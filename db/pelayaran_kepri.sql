-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Waktu pembuatan: 18 Bulan Mei 2025 pada 12.39
-- Versi server: 10.4.32-MariaDB
-- Versi PHP: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `pelayaran_kepri`
--

-- --------------------------------------------------------

--
-- Struktur dari tabel `admin`
--

CREATE TABLE `admin` (
  `id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL,
  `name` varchar(100) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `admin`
--

INSERT INTO `admin` (`id`, `username`, `password`, `name`, `created_at`) VALUES
(1, 'admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'Administrator', '2025-05-18 06:04:43');

-- --------------------------------------------------------

--
-- Struktur dari tabel `locations`
--

CREATE TABLE `locations` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `locations`
--

INSERT INTO `locations` (`id`, `name`, `created_at`) VALUES
(1, 'TANJUNGPINANG', '2025-05-18 06:10:31'),
(2, 'BATAM', '2025-05-18 06:10:31'),
(3, 'KARIMUN', '2025-05-18 06:10:31'),
(4, 'NATUNA', '2025-05-18 06:10:31'),
(5, 'DABO SINGKEP', '2025-05-18 06:10:31'),
(6, 'DAIK LINGGA', '2025-05-18 06:10:31');

-- --------------------------------------------------------

--
-- Struktur dari tabel `passengers`
--

CREATE TABLE `passengers` (
  `id` int(11) NOT NULL,
  `reservation_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `ktp_number` varchar(50) NOT NULL,
  `phone_number` varchar(20) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `passengers`
--

INSERT INTO `passengers` (`id`, `reservation_id`, `name`, `ktp_number`, `phone_number`, `created_at`) VALUES
(5, 3, 'Zayus Muazrian', '112233445566', '0812345678', '2025-05-18 06:14:42'),
(6, 4, 'Muhajirul Fajri', '112233445566', '0812345678', '2025-05-18 06:20:49'),
(7, 5, 'Rifana Bima Pradifa', '112233445566', '0812345678', '2025-05-18 07:08:18'),
(8, 6, 'Muhamad Nur Amin', '112233445566', '0812345678', '2025-05-18 07:32:36'),
(9, 7, 'Zayus Muazrian', '1234567812345679', '081212121212', '2025-05-18 07:45:46'),
(10, 8, 'Muhajirul Fajri', '1234567812345678', '081212121212', '2025-05-18 07:51:09'),
(11, 9, 'Muhajirul Fajri', '1234567812345679', '081212121212', '2025-05-18 09:58:32'),
(12, 10, 'Muhajirul Fajri', '1234567812345678', '081212121212', '2025-05-18 10:01:05'),
(13, 11, 'Rifana Bima Pradifa', '1234567812345679', '081212121212', '2025-05-18 10:02:55'),
(14, 12, 'Muhamad Nur Amin', '1234567812345679', '081212121212', '2025-05-18 10:05:50'),
(15, 13, 'Rifana Bima Pradifa', '1234567812345678', '081212121212', '2025-05-18 10:06:58'),
(16, 14, 'Zayus Muazrian', '1234567812345679', '081212121212', '2025-05-18 10:08:44'),
(17, 15, 'Muhamad Nur Amin', '1234567812345678', '081212121212', '2025-05-18 10:11:28'),
(18, 16, 'Muhamad Nur Amin', '1234567812345679', '0812345678', '2025-05-18 10:13:35'),
(19, 17, 'nova', '1234567812345678', '0812345678', '2025-05-18 10:15:06'),
(20, 18, 'Muhamad Nur Amin', '1234567812345679', '081212121212', '2025-05-18 10:16:34'),
(21, 19, 'Nova Umi Soimah', '1234567812345678', '081212121212', '2025-05-18 10:19:47');

-- --------------------------------------------------------

--
-- Struktur dari tabel `reservations`
--

CREATE TABLE `reservations` (
  `id` int(11) NOT NULL,
  `kode` varchar(20) NOT NULL,
  `origin_id` int(11) NOT NULL,
  `destination_id` int(11) NOT NULL,
  `departure_date` date NOT NULL,
  `ship_id` int(11) NOT NULL,
  `passenger_count` int(11) NOT NULL,
  `total_price` decimal(10,2) NOT NULL,
  `reservation_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `schedule_id` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `status` enum('pending','paid','expired') NOT NULL DEFAULT 'pending'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `reservations`
--

INSERT INTO `reservations` (`id`, `kode`, `origin_id`, `destination_id`, `departure_date`, `ship_id`, `passenger_count`, `total_price`, `reservation_date`, `schedule_id`, `created_at`, `status`) VALUES
(3, '6F462C', 2, 4, '2025-05-21', 1, 1, 120000.00, '2025-05-18 06:14:42', 7, '2025-05-18 06:14:42', 'pending'),
(4, '7F9E00', 1, 6, '2025-05-31', 7, 1, 70000.00, '2025-05-18 06:20:49', 9, '2025-05-18 06:20:49', 'pending'),
(5, 'FF2C00', 6, 5, '2025-05-20', 7, 1, 70000.00, '2025-05-18 07:08:18', 10, '2025-05-18 07:08:18', 'pending'),
(6, 'AEFB1C', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 07:32:36', 8, '2025-05-18 07:32:36', 'paid'),
(7, 'BCD28E', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 07:45:46', 8, '2025-05-18 07:45:46', 'pending'),
(8, 'F16404', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 07:51:09', 8, '2025-05-18 07:51:09', 'pending'),
(9, '2A27A6', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 09:58:32', 8, '2025-05-18 09:58:32', 'pending'),
(10, 'DCE512', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:01:05', 8, '2025-05-18 10:01:05', 'pending'),
(11, '963020', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:02:55', 8, '2025-05-18 10:02:55', 'pending'),
(12, 'E4E2BC', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:05:50', 8, '2025-05-18 10:05:50', 'pending'),
(13, 'CE47CD', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:06:58', 8, '2025-05-18 10:06:58', 'pending'),
(14, '70473A', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:08:44', 8, '2025-05-18 10:08:44', 'pending'),
(15, 'F8F077', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:11:28', 8, '2025-05-18 10:11:28', 'pending'),
(16, 'E8201F', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:13:35', 8, '2025-05-18 10:13:35', 'pending'),
(17, 'C29F82', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:15:06', 8, '2025-05-18 10:15:06', 'pending'),
(18, 'FB67D1', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:16:34', 8, '2025-05-18 10:16:34', 'pending'),
(19, '6C540F', 2, 1, '2025-05-23', 10, 1, 95000.00, '2025-05-18 10:19:47', 8, '2025-05-18 10:19:47', 'pending');

-- --------------------------------------------------------

--
-- Struktur dari tabel `routes`
--

CREATE TABLE `routes` (
  `id` int(11) NOT NULL,
  `origin_id` int(11) NOT NULL,
  `destination_id` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `routes`
--

INSERT INTO `routes` (`id`, `origin_id`, `destination_id`, `created_at`) VALUES
(1, 2, 1, '2025-05-18 06:10:31'),
(2, 3, 1, '2025-05-18 06:10:31'),
(3, 4, 1, '2025-05-18 06:10:31'),
(4, 5, 1, '2025-05-18 06:10:31'),
(5, 6, 1, '2025-05-18 06:10:31'),
(6, 1, 2, '2025-05-18 06:10:31'),
(7, 3, 2, '2025-05-18 06:10:31'),
(8, 4, 2, '2025-05-18 06:10:31'),
(9, 5, 2, '2025-05-18 06:10:31'),
(10, 6, 2, '2025-05-18 06:10:31'),
(11, 1, 3, '2025-05-18 06:10:31'),
(12, 2, 3, '2025-05-18 06:10:31'),
(13, 4, 3, '2025-05-18 06:10:31'),
(14, 5, 3, '2025-05-18 06:10:31'),
(15, 6, 3, '2025-05-18 06:10:31'),
(16, 1, 4, '2025-05-18 06:10:31'),
(17, 2, 4, '2025-05-18 06:10:31'),
(18, 3, 4, '2025-05-18 06:10:31'),
(19, 5, 4, '2025-05-18 06:10:31'),
(20, 6, 4, '2025-05-18 06:10:31'),
(21, 1, 5, '2025-05-18 06:10:31'),
(22, 2, 5, '2025-05-18 06:10:31'),
(23, 3, 5, '2025-05-18 06:10:31'),
(24, 4, 5, '2025-05-18 06:10:31'),
(25, 6, 5, '2025-05-18 06:10:31'),
(26, 1, 6, '2025-05-18 06:10:31'),
(27, 2, 6, '2025-05-18 06:10:31'),
(28, 3, 6, '2025-05-18 06:10:31'),
(29, 4, 6, '2025-05-18 06:10:31'),
(30, 5, 6, '2025-05-18 06:10:31'),
(31, 2, 1, '2025-05-18 06:10:31'),
(32, 3, 1, '2025-05-18 06:10:31'),
(33, 4, 1, '2025-05-18 06:10:31'),
(34, 5, 1, '2025-05-18 06:10:31'),
(35, 6, 1, '2025-05-18 06:10:31'),
(36, 7, 1, '2025-05-18 06:10:31'),
(37, 8, 1, '2025-05-18 06:10:31'),
(38, 9, 1, '2025-05-18 06:10:31'),
(39, 10, 1, '2025-05-18 06:10:31'),
(40, 11, 1, '2025-05-18 06:10:31'),
(41, 12, 1, '2025-05-18 06:10:31'),
(42, 1, 2, '2025-05-18 06:10:31'),
(43, 3, 2, '2025-05-18 06:10:31'),
(44, 4, 2, '2025-05-18 06:10:31'),
(45, 5, 2, '2025-05-18 06:10:31'),
(46, 6, 2, '2025-05-18 06:10:31'),
(47, 7, 2, '2025-05-18 06:10:31'),
(48, 8, 2, '2025-05-18 06:10:31'),
(49, 9, 2, '2025-05-18 06:10:31'),
(50, 10, 2, '2025-05-18 06:10:31'),
(51, 11, 2, '2025-05-18 06:10:31'),
(52, 12, 2, '2025-05-18 06:10:31'),
(53, 1, 3, '2025-05-18 06:10:31'),
(54, 2, 3, '2025-05-18 06:10:31'),
(55, 4, 3, '2025-05-18 06:10:31'),
(56, 5, 3, '2025-05-18 06:10:31'),
(57, 6, 3, '2025-05-18 06:10:31'),
(58, 7, 3, '2025-05-18 06:10:31'),
(59, 8, 3, '2025-05-18 06:10:31'),
(60, 9, 3, '2025-05-18 06:10:31'),
(61, 10, 3, '2025-05-18 06:10:31'),
(62, 11, 3, '2025-05-18 06:10:31'),
(63, 12, 3, '2025-05-18 06:10:31'),
(64, 1, 4, '2025-05-18 06:10:31'),
(65, 2, 4, '2025-05-18 06:10:31'),
(66, 3, 4, '2025-05-18 06:10:31'),
(67, 5, 4, '2025-05-18 06:10:31'),
(68, 6, 4, '2025-05-18 06:10:31'),
(69, 7, 4, '2025-05-18 06:10:31'),
(70, 8, 4, '2025-05-18 06:10:31'),
(71, 9, 4, '2025-05-18 06:10:31'),
(72, 10, 4, '2025-05-18 06:10:31'),
(73, 11, 4, '2025-05-18 06:10:31'),
(74, 12, 4, '2025-05-18 06:10:31'),
(75, 1, 5, '2025-05-18 06:10:31'),
(76, 2, 5, '2025-05-18 06:10:31'),
(77, 3, 5, '2025-05-18 06:10:31'),
(78, 4, 5, '2025-05-18 06:10:31'),
(79, 6, 5, '2025-05-18 06:10:31'),
(80, 7, 5, '2025-05-18 06:10:31'),
(81, 8, 5, '2025-05-18 06:10:31'),
(82, 9, 5, '2025-05-18 06:10:31'),
(83, 10, 5, '2025-05-18 06:10:31'),
(84, 11, 5, '2025-05-18 06:10:31'),
(85, 12, 5, '2025-05-18 06:10:31'),
(86, 1, 6, '2025-05-18 06:10:31'),
(87, 2, 6, '2025-05-18 06:10:31'),
(88, 3, 6, '2025-05-18 06:10:31'),
(89, 4, 6, '2025-05-18 06:10:31'),
(90, 5, 6, '2025-05-18 06:10:31'),
(91, 7, 6, '2025-05-18 06:10:31'),
(92, 8, 6, '2025-05-18 06:10:31'),
(93, 9, 6, '2025-05-18 06:10:31'),
(94, 10, 6, '2025-05-18 06:10:31'),
(95, 11, 6, '2025-05-18 06:10:31'),
(96, 12, 6, '2025-05-18 06:10:31'),
(97, 1, 7, '2025-05-18 06:10:31'),
(98, 2, 7, '2025-05-18 06:10:31'),
(99, 3, 7, '2025-05-18 06:10:31'),
(100, 4, 7, '2025-05-18 06:10:31'),
(101, 5, 7, '2025-05-18 06:10:31'),
(102, 6, 7, '2025-05-18 06:10:31'),
(103, 8, 7, '2025-05-18 06:10:31'),
(104, 9, 7, '2025-05-18 06:10:31'),
(105, 10, 7, '2025-05-18 06:10:31'),
(106, 11, 7, '2025-05-18 06:10:31'),
(107, 12, 7, '2025-05-18 06:10:31'),
(108, 1, 8, '2025-05-18 06:10:31'),
(109, 2, 8, '2025-05-18 06:10:31'),
(110, 3, 8, '2025-05-18 06:10:31'),
(111, 4, 8, '2025-05-18 06:10:31'),
(112, 5, 8, '2025-05-18 06:10:31'),
(113, 6, 8, '2025-05-18 06:10:31'),
(114, 7, 8, '2025-05-18 06:10:31'),
(115, 9, 8, '2025-05-18 06:10:31'),
(116, 10, 8, '2025-05-18 06:10:31'),
(117, 11, 8, '2025-05-18 06:10:31'),
(118, 12, 8, '2025-05-18 06:10:31'),
(119, 1, 9, '2025-05-18 06:10:31'),
(120, 2, 9, '2025-05-18 06:10:31'),
(121, 3, 9, '2025-05-18 06:10:31'),
(122, 4, 9, '2025-05-18 06:10:31'),
(123, 5, 9, '2025-05-18 06:10:31'),
(124, 6, 9, '2025-05-18 06:10:31'),
(125, 7, 9, '2025-05-18 06:10:31'),
(126, 8, 9, '2025-05-18 06:10:31'),
(127, 10, 9, '2025-05-18 06:10:31'),
(128, 11, 9, '2025-05-18 06:10:31'),
(129, 12, 9, '2025-05-18 06:10:31'),
(130, 1, 10, '2025-05-18 06:10:31'),
(131, 2, 10, '2025-05-18 06:10:31'),
(132, 3, 10, '2025-05-18 06:10:31'),
(133, 4, 10, '2025-05-18 06:10:31'),
(134, 5, 10, '2025-05-18 06:10:31'),
(135, 6, 10, '2025-05-18 06:10:31'),
(136, 7, 10, '2025-05-18 06:10:31'),
(137, 8, 10, '2025-05-18 06:10:31'),
(138, 9, 10, '2025-05-18 06:10:31'),
(139, 11, 10, '2025-05-18 06:10:31'),
(140, 12, 10, '2025-05-18 06:10:31'),
(141, 1, 11, '2025-05-18 06:10:31'),
(142, 2, 11, '2025-05-18 06:10:31'),
(143, 3, 11, '2025-05-18 06:10:31'),
(144, 4, 11, '2025-05-18 06:10:31'),
(145, 5, 11, '2025-05-18 06:10:31'),
(146, 6, 11, '2025-05-18 06:10:31'),
(147, 7, 11, '2025-05-18 06:10:31'),
(148, 8, 11, '2025-05-18 06:10:31'),
(149, 9, 11, '2025-05-18 06:10:31'),
(150, 10, 11, '2025-05-18 06:10:31'),
(151, 12, 11, '2025-05-18 06:10:31'),
(152, 1, 12, '2025-05-18 06:10:31'),
(153, 2, 12, '2025-05-18 06:10:31'),
(154, 3, 12, '2025-05-18 06:10:31'),
(155, 4, 12, '2025-05-18 06:10:31'),
(156, 5, 12, '2025-05-18 06:10:31'),
(157, 6, 12, '2025-05-18 06:10:31'),
(158, 7, 12, '2025-05-18 06:10:31'),
(159, 8, 12, '2025-05-18 06:10:31'),
(160, 9, 12, '2025-05-18 06:10:31'),
(161, 10, 12, '2025-05-18 06:10:31'),
(162, 11, 12, '2025-05-18 06:10:31'),
(286, 2, 1, '2025-05-18 06:10:31'),
(287, 3, 1, '2025-05-18 06:10:31'),
(288, 4, 1, '2025-05-18 06:10:31'),
(289, 5, 1, '2025-05-18 06:10:31'),
(290, 6, 1, '2025-05-18 06:10:31'),
(291, 7, 1, '2025-05-18 06:10:31'),
(292, 8, 1, '2025-05-18 06:10:31'),
(293, 9, 1, '2025-05-18 06:10:31'),
(294, 10, 1, '2025-05-18 06:10:31'),
(295, 11, 1, '2025-05-18 06:10:31'),
(296, 12, 1, '2025-05-18 06:10:31'),
(297, 13, 1, '2025-05-18 06:10:31'),
(298, 14, 1, '2025-05-18 06:10:31'),
(299, 15, 1, '2025-05-18 06:10:31'),
(300, 16, 1, '2025-05-18 06:10:31'),
(301, 17, 1, '2025-05-18 06:10:31'),
(302, 18, 1, '2025-05-18 06:10:31'),
(303, 1, 2, '2025-05-18 06:10:31'),
(304, 3, 2, '2025-05-18 06:10:31'),
(305, 4, 2, '2025-05-18 06:10:31'),
(306, 5, 2, '2025-05-18 06:10:31'),
(307, 6, 2, '2025-05-18 06:10:31'),
(308, 7, 2, '2025-05-18 06:10:31'),
(309, 8, 2, '2025-05-18 06:10:31'),
(310, 9, 2, '2025-05-18 06:10:31'),
(311, 10, 2, '2025-05-18 06:10:31'),
(312, 11, 2, '2025-05-18 06:10:31'),
(313, 12, 2, '2025-05-18 06:10:31'),
(314, 13, 2, '2025-05-18 06:10:31'),
(315, 14, 2, '2025-05-18 06:10:31'),
(316, 15, 2, '2025-05-18 06:10:31'),
(317, 16, 2, '2025-05-18 06:10:31'),
(318, 17, 2, '2025-05-18 06:10:31'),
(319, 18, 2, '2025-05-18 06:10:31'),
(320, 1, 3, '2025-05-18 06:10:31'),
(321, 2, 3, '2025-05-18 06:10:31'),
(322, 4, 3, '2025-05-18 06:10:31'),
(323, 5, 3, '2025-05-18 06:10:31'),
(324, 6, 3, '2025-05-18 06:10:31'),
(325, 7, 3, '2025-05-18 06:10:31'),
(326, 8, 3, '2025-05-18 06:10:31'),
(327, 9, 3, '2025-05-18 06:10:31'),
(328, 10, 3, '2025-05-18 06:10:31'),
(329, 11, 3, '2025-05-18 06:10:31'),
(330, 12, 3, '2025-05-18 06:10:31'),
(331, 13, 3, '2025-05-18 06:10:31'),
(332, 14, 3, '2025-05-18 06:10:31'),
(333, 15, 3, '2025-05-18 06:10:31'),
(334, 16, 3, '2025-05-18 06:10:31'),
(335, 17, 3, '2025-05-18 06:10:31'),
(336, 18, 3, '2025-05-18 06:10:31'),
(337, 1, 4, '2025-05-18 06:10:31'),
(338, 2, 4, '2025-05-18 06:10:31'),
(339, 3, 4, '2025-05-18 06:10:31'),
(340, 5, 4, '2025-05-18 06:10:31'),
(341, 6, 4, '2025-05-18 06:10:31'),
(342, 7, 4, '2025-05-18 06:10:31'),
(343, 8, 4, '2025-05-18 06:10:31'),
(344, 9, 4, '2025-05-18 06:10:31'),
(345, 10, 4, '2025-05-18 06:10:31'),
(346, 11, 4, '2025-05-18 06:10:31'),
(347, 12, 4, '2025-05-18 06:10:31'),
(348, 13, 4, '2025-05-18 06:10:31'),
(349, 14, 4, '2025-05-18 06:10:31'),
(350, 15, 4, '2025-05-18 06:10:31'),
(351, 16, 4, '2025-05-18 06:10:31'),
(352, 17, 4, '2025-05-18 06:10:31'),
(353, 18, 4, '2025-05-18 06:10:31'),
(354, 1, 5, '2025-05-18 06:10:31'),
(355, 2, 5, '2025-05-18 06:10:31'),
(356, 3, 5, '2025-05-18 06:10:31'),
(357, 4, 5, '2025-05-18 06:10:31'),
(358, 6, 5, '2025-05-18 06:10:31'),
(359, 7, 5, '2025-05-18 06:10:31'),
(360, 8, 5, '2025-05-18 06:10:31'),
(361, 9, 5, '2025-05-18 06:10:31'),
(362, 10, 5, '2025-05-18 06:10:31'),
(363, 11, 5, '2025-05-18 06:10:31'),
(364, 12, 5, '2025-05-18 06:10:31'),
(365, 13, 5, '2025-05-18 06:10:31'),
(366, 14, 5, '2025-05-18 06:10:31'),
(367, 15, 5, '2025-05-18 06:10:31'),
(368, 16, 5, '2025-05-18 06:10:31'),
(369, 17, 5, '2025-05-18 06:10:31'),
(370, 18, 5, '2025-05-18 06:10:31'),
(371, 1, 6, '2025-05-18 06:10:31'),
(372, 2, 6, '2025-05-18 06:10:31'),
(373, 3, 6, '2025-05-18 06:10:31'),
(374, 4, 6, '2025-05-18 06:10:31'),
(375, 5, 6, '2025-05-18 06:10:31'),
(376, 7, 6, '2025-05-18 06:10:31'),
(377, 8, 6, '2025-05-18 06:10:31'),
(378, 9, 6, '2025-05-18 06:10:31'),
(379, 10, 6, '2025-05-18 06:10:31'),
(380, 11, 6, '2025-05-18 06:10:31'),
(381, 12, 6, '2025-05-18 06:10:31'),
(382, 13, 6, '2025-05-18 06:10:31'),
(383, 14, 6, '2025-05-18 06:10:31'),
(384, 15, 6, '2025-05-18 06:10:31'),
(385, 16, 6, '2025-05-18 06:10:31'),
(386, 17, 6, '2025-05-18 06:10:31'),
(387, 18, 6, '2025-05-18 06:10:31'),
(388, 1, 7, '2025-05-18 06:10:31'),
(389, 2, 7, '2025-05-18 06:10:31'),
(390, 3, 7, '2025-05-18 06:10:31'),
(391, 4, 7, '2025-05-18 06:10:31'),
(392, 5, 7, '2025-05-18 06:10:31'),
(393, 6, 7, '2025-05-18 06:10:31'),
(394, 8, 7, '2025-05-18 06:10:31'),
(395, 9, 7, '2025-05-18 06:10:31'),
(396, 10, 7, '2025-05-18 06:10:31'),
(397, 11, 7, '2025-05-18 06:10:31'),
(398, 12, 7, '2025-05-18 06:10:31'),
(399, 13, 7, '2025-05-18 06:10:31'),
(400, 14, 7, '2025-05-18 06:10:31'),
(401, 15, 7, '2025-05-18 06:10:31'),
(402, 16, 7, '2025-05-18 06:10:31'),
(403, 17, 7, '2025-05-18 06:10:31'),
(404, 18, 7, '2025-05-18 06:10:31'),
(405, 1, 8, '2025-05-18 06:10:31'),
(406, 2, 8, '2025-05-18 06:10:31'),
(407, 3, 8, '2025-05-18 06:10:31'),
(408, 4, 8, '2025-05-18 06:10:31'),
(409, 5, 8, '2025-05-18 06:10:31'),
(410, 6, 8, '2025-05-18 06:10:31'),
(411, 7, 8, '2025-05-18 06:10:31'),
(412, 9, 8, '2025-05-18 06:10:31'),
(413, 10, 8, '2025-05-18 06:10:31'),
(414, 11, 8, '2025-05-18 06:10:31'),
(415, 12, 8, '2025-05-18 06:10:31'),
(416, 13, 8, '2025-05-18 06:10:31'),
(417, 14, 8, '2025-05-18 06:10:31'),
(418, 15, 8, '2025-05-18 06:10:31'),
(419, 16, 8, '2025-05-18 06:10:31'),
(420, 17, 8, '2025-05-18 06:10:31'),
(421, 18, 8, '2025-05-18 06:10:31'),
(422, 1, 9, '2025-05-18 06:10:31'),
(423, 2, 9, '2025-05-18 06:10:31'),
(424, 3, 9, '2025-05-18 06:10:31'),
(425, 4, 9, '2025-05-18 06:10:31'),
(426, 5, 9, '2025-05-18 06:10:31'),
(427, 6, 9, '2025-05-18 06:10:31'),
(428, 7, 9, '2025-05-18 06:10:31'),
(429, 8, 9, '2025-05-18 06:10:31'),
(430, 10, 9, '2025-05-18 06:10:31'),
(431, 11, 9, '2025-05-18 06:10:31'),
(432, 12, 9, '2025-05-18 06:10:31'),
(433, 13, 9, '2025-05-18 06:10:31'),
(434, 14, 9, '2025-05-18 06:10:31'),
(435, 15, 9, '2025-05-18 06:10:31'),
(436, 16, 9, '2025-05-18 06:10:31'),
(437, 17, 9, '2025-05-18 06:10:31'),
(438, 18, 9, '2025-05-18 06:10:31'),
(439, 1, 10, '2025-05-18 06:10:31'),
(440, 2, 10, '2025-05-18 06:10:31'),
(441, 3, 10, '2025-05-18 06:10:31'),
(442, 4, 10, '2025-05-18 06:10:31'),
(443, 5, 10, '2025-05-18 06:10:31'),
(444, 6, 10, '2025-05-18 06:10:31'),
(445, 7, 10, '2025-05-18 06:10:31'),
(446, 8, 10, '2025-05-18 06:10:31'),
(447, 9, 10, '2025-05-18 06:10:31'),
(448, 11, 10, '2025-05-18 06:10:31'),
(449, 12, 10, '2025-05-18 06:10:31'),
(450, 13, 10, '2025-05-18 06:10:31'),
(451, 14, 10, '2025-05-18 06:10:31'),
(452, 15, 10, '2025-05-18 06:10:31'),
(453, 16, 10, '2025-05-18 06:10:31'),
(454, 17, 10, '2025-05-18 06:10:31'),
(455, 18, 10, '2025-05-18 06:10:31'),
(456, 1, 11, '2025-05-18 06:10:31'),
(457, 2, 11, '2025-05-18 06:10:31'),
(458, 3, 11, '2025-05-18 06:10:31'),
(459, 4, 11, '2025-05-18 06:10:31'),
(460, 5, 11, '2025-05-18 06:10:31'),
(461, 6, 11, '2025-05-18 06:10:31'),
(462, 7, 11, '2025-05-18 06:10:31'),
(463, 8, 11, '2025-05-18 06:10:31'),
(464, 9, 11, '2025-05-18 06:10:31'),
(465, 10, 11, '2025-05-18 06:10:31'),
(466, 12, 11, '2025-05-18 06:10:31'),
(467, 13, 11, '2025-05-18 06:10:31'),
(468, 14, 11, '2025-05-18 06:10:31'),
(469, 15, 11, '2025-05-18 06:10:31'),
(470, 16, 11, '2025-05-18 06:10:31'),
(471, 17, 11, '2025-05-18 06:10:31'),
(472, 18, 11, '2025-05-18 06:10:31'),
(473, 1, 12, '2025-05-18 06:10:31'),
(474, 2, 12, '2025-05-18 06:10:31'),
(475, 3, 12, '2025-05-18 06:10:31'),
(476, 4, 12, '2025-05-18 06:10:31'),
(477, 5, 12, '2025-05-18 06:10:31'),
(478, 6, 12, '2025-05-18 06:10:31'),
(479, 7, 12, '2025-05-18 06:10:31'),
(480, 8, 12, '2025-05-18 06:10:31'),
(481, 9, 12, '2025-05-18 06:10:31'),
(482, 10, 12, '2025-05-18 06:10:31'),
(483, 11, 12, '2025-05-18 06:10:31'),
(484, 13, 12, '2025-05-18 06:10:31'),
(485, 14, 12, '2025-05-18 06:10:31'),
(486, 15, 12, '2025-05-18 06:10:31'),
(487, 16, 12, '2025-05-18 06:10:31'),
(488, 17, 12, '2025-05-18 06:10:31'),
(489, 18, 12, '2025-05-18 06:10:31'),
(490, 1, 13, '2025-05-18 06:10:31'),
(491, 2, 13, '2025-05-18 06:10:31'),
(492, 3, 13, '2025-05-18 06:10:31'),
(493, 4, 13, '2025-05-18 06:10:31'),
(494, 5, 13, '2025-05-18 06:10:31'),
(495, 6, 13, '2025-05-18 06:10:31'),
(496, 7, 13, '2025-05-18 06:10:31'),
(497, 8, 13, '2025-05-18 06:10:31'),
(498, 9, 13, '2025-05-18 06:10:31'),
(499, 10, 13, '2025-05-18 06:10:31'),
(500, 11, 13, '2025-05-18 06:10:31'),
(501, 12, 13, '2025-05-18 06:10:31'),
(502, 14, 13, '2025-05-18 06:10:31'),
(503, 15, 13, '2025-05-18 06:10:31'),
(504, 16, 13, '2025-05-18 06:10:31'),
(505, 17, 13, '2025-05-18 06:10:31'),
(506, 18, 13, '2025-05-18 06:10:31'),
(507, 1, 14, '2025-05-18 06:10:31'),
(508, 2, 14, '2025-05-18 06:10:31'),
(509, 3, 14, '2025-05-18 06:10:31'),
(510, 4, 14, '2025-05-18 06:10:31'),
(511, 5, 14, '2025-05-18 06:10:31'),
(512, 6, 14, '2025-05-18 06:10:31'),
(513, 7, 14, '2025-05-18 06:10:31'),
(514, 8, 14, '2025-05-18 06:10:31'),
(515, 9, 14, '2025-05-18 06:10:31'),
(516, 10, 14, '2025-05-18 06:10:31'),
(517, 11, 14, '2025-05-18 06:10:31'),
(518, 12, 14, '2025-05-18 06:10:31'),
(519, 13, 14, '2025-05-18 06:10:31'),
(520, 15, 14, '2025-05-18 06:10:31'),
(521, 16, 14, '2025-05-18 06:10:31'),
(522, 17, 14, '2025-05-18 06:10:31'),
(523, 18, 14, '2025-05-18 06:10:31'),
(524, 1, 15, '2025-05-18 06:10:31'),
(525, 2, 15, '2025-05-18 06:10:31'),
(526, 3, 15, '2025-05-18 06:10:31'),
(527, 4, 15, '2025-05-18 06:10:31'),
(528, 5, 15, '2025-05-18 06:10:31'),
(529, 6, 15, '2025-05-18 06:10:31'),
(530, 7, 15, '2025-05-18 06:10:31'),
(531, 8, 15, '2025-05-18 06:10:31'),
(532, 9, 15, '2025-05-18 06:10:31'),
(533, 10, 15, '2025-05-18 06:10:31'),
(534, 11, 15, '2025-05-18 06:10:31'),
(535, 12, 15, '2025-05-18 06:10:31'),
(536, 13, 15, '2025-05-18 06:10:31'),
(537, 14, 15, '2025-05-18 06:10:31'),
(538, 16, 15, '2025-05-18 06:10:31'),
(539, 17, 15, '2025-05-18 06:10:31'),
(540, 18, 15, '2025-05-18 06:10:31'),
(541, 1, 16, '2025-05-18 06:10:31'),
(542, 2, 16, '2025-05-18 06:10:31'),
(543, 3, 16, '2025-05-18 06:10:31'),
(544, 4, 16, '2025-05-18 06:10:31'),
(545, 5, 16, '2025-05-18 06:10:31'),
(546, 6, 16, '2025-05-18 06:10:31'),
(547, 7, 16, '2025-05-18 06:10:31'),
(548, 8, 16, '2025-05-18 06:10:31'),
(549, 9, 16, '2025-05-18 06:10:31'),
(550, 10, 16, '2025-05-18 06:10:31'),
(551, 11, 16, '2025-05-18 06:10:31'),
(552, 12, 16, '2025-05-18 06:10:31'),
(553, 13, 16, '2025-05-18 06:10:31'),
(554, 14, 16, '2025-05-18 06:10:31'),
(555, 15, 16, '2025-05-18 06:10:31'),
(556, 17, 16, '2025-05-18 06:10:31'),
(557, 18, 16, '2025-05-18 06:10:31'),
(558, 1, 17, '2025-05-18 06:10:31'),
(559, 2, 17, '2025-05-18 06:10:31'),
(560, 3, 17, '2025-05-18 06:10:31'),
(561, 4, 17, '2025-05-18 06:10:31'),
(562, 5, 17, '2025-05-18 06:10:31'),
(563, 6, 17, '2025-05-18 06:10:31'),
(564, 7, 17, '2025-05-18 06:10:31'),
(565, 8, 17, '2025-05-18 06:10:31'),
(566, 9, 17, '2025-05-18 06:10:31'),
(567, 10, 17, '2025-05-18 06:10:31'),
(568, 11, 17, '2025-05-18 06:10:31'),
(569, 12, 17, '2025-05-18 06:10:31'),
(570, 13, 17, '2025-05-18 06:10:31'),
(571, 14, 17, '2025-05-18 06:10:31'),
(572, 15, 17, '2025-05-18 06:10:31'),
(573, 16, 17, '2025-05-18 06:10:31'),
(574, 18, 17, '2025-05-18 06:10:31'),
(575, 1, 18, '2025-05-18 06:10:31'),
(576, 2, 18, '2025-05-18 06:10:31'),
(577, 3, 18, '2025-05-18 06:10:31'),
(578, 4, 18, '2025-05-18 06:10:31'),
(579, 5, 18, '2025-05-18 06:10:31'),
(580, 6, 18, '2025-05-18 06:10:31'),
(581, 7, 18, '2025-05-18 06:10:31'),
(582, 8, 18, '2025-05-18 06:10:31'),
(583, 9, 18, '2025-05-18 06:10:31'),
(584, 10, 18, '2025-05-18 06:10:31'),
(585, 11, 18, '2025-05-18 06:10:31'),
(586, 12, 18, '2025-05-18 06:10:31'),
(587, 13, 18, '2025-05-18 06:10:31'),
(588, 14, 18, '2025-05-18 06:10:31'),
(589, 15, 18, '2025-05-18 06:10:31'),
(590, 16, 18, '2025-05-18 06:10:31'),
(591, 17, 18, '2025-05-18 06:10:31');

-- --------------------------------------------------------

--
-- Struktur dari tabel `ships`
--

CREATE TABLE `ships` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `ships`
--

INSERT INTO `ships` (`id`, `name`, `price`, `created_at`) VALUES
(1, 'Oceanna 17', 120000.00, '2025-05-18 06:10:31'),
(2, 'Oceanna 16', 120000.00, '2025-05-18 06:10:31'),
(3, 'Oceanna 15', 120000.00, '2025-05-18 06:10:31'),
(4, 'KM Lambelu', 75000.00, '2025-05-18 06:10:31'),
(5, 'KM Sei Putih', 80000.00, '2025-05-18 06:10:31'),
(6, 'KM Batam Express', 95000.00, '2025-05-18 06:10:31'),
(7, 'KM Kepri Jaya', 70000.00, '2025-05-18 06:10:31'),
(8, 'KM Lambelu', 75000.00, '2025-05-18 06:10:31'),
(9, 'KM Sei Putih', 80000.00, '2025-05-18 06:10:31'),
(10, 'KM Batam Express', 95000.00, '2025-05-18 06:10:31'),
(11, 'KM Kepri Jaya', 70000.00, '2025-05-18 06:10:31');

-- --------------------------------------------------------

--
-- Struktur dari tabel `ship_schedules`
--

CREATE TABLE `ship_schedules` (
  `id` int(11) NOT NULL,
  `ship_id` int(11) DEFAULT NULL,
  `origin_id` int(11) DEFAULT NULL,
  `destination_id` int(11) DEFAULT NULL,
  `departure_date` date DEFAULT NULL,
  `departure_time` time DEFAULT NULL,
  `available_seats` int(11) DEFAULT 100,
  `status` enum('active','cancelled') DEFAULT 'active',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data untuk tabel `ship_schedules`
--

INSERT INTO `ship_schedules` (`id`, `ship_id`, `origin_id`, `destination_id`, `departure_date`, `departure_time`, `available_seats`, `status`, `created_at`) VALUES
(1, 1, NULL, NULL, '2025-05-19', '08:00:00', 100, 'active', '2025-05-18 06:10:31'),
(2, 2, NULL, NULL, '2025-05-19', '08:00:00', 100, 'active', '2025-05-18 06:10:31'),
(4, 1, NULL, NULL, '2025-05-19', '14:00:00', 100, 'active', '2025-05-18 06:10:31'),
(5, 2, NULL, NULL, '2025-05-19', '14:00:00', 100, 'active', '2025-05-18 06:10:31'),
(7, 1, 2, 4, '2025-05-21', '10:30:00', 99, 'active', '2025-05-18 06:13:13'),
(8, 10, 2, 1, '2025-05-23', '23:00:00', 36, 'active', '2025-05-18 06:18:30'),
(9, 7, 1, 6, '2025-05-31', '11:00:00', 99, 'active', '2025-05-18 06:19:56'),
(10, 7, 6, 5, '2025-05-20', '11:00:00', 99, 'active', '2025-05-18 07:07:11');

--
-- Indexes for dumped tables
--

--
-- Indeks untuk tabel `admin`
--
ALTER TABLE `admin`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- Indeks untuk tabel `locations`
--
ALTER TABLE `locations`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `passengers`
--
ALTER TABLE `passengers`
  ADD PRIMARY KEY (`id`),
  ADD KEY `reservation_id` (`reservation_id`);

--
-- Indeks untuk tabel `reservations`
--
ALTER TABLE `reservations`
  ADD PRIMARY KEY (`id`),
  ADD KEY `origin_id` (`origin_id`),
  ADD KEY `destination_id` (`destination_id`),
  ADD KEY `ship_id` (`ship_id`),
  ADD KEY `fk_schedule` (`schedule_id`);

--
-- Indeks untuk tabel `routes`
--
ALTER TABLE `routes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `origin_id` (`origin_id`),
  ADD KEY `destination_id` (`destination_id`);

--
-- Indeks untuk tabel `ships`
--
ALTER TABLE `ships`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `ship_schedules`
--
ALTER TABLE `ship_schedules`
  ADD PRIMARY KEY (`id`),
  ADD KEY `ship_id` (`ship_id`),
  ADD KEY `origin_id` (`origin_id`),
  ADD KEY `destination_id` (`destination_id`);

--
-- AUTO_INCREMENT untuk tabel yang dibuang
--

--
-- AUTO_INCREMENT untuk tabel `admin`
--
ALTER TABLE `admin`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT untuk tabel `locations`
--
ALTER TABLE `locations`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT untuk tabel `passengers`
--
ALTER TABLE `passengers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- AUTO_INCREMENT untuk tabel `reservations`
--
ALTER TABLE `reservations`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT untuk tabel `routes`
--
ALTER TABLE `routes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=592;

--
-- AUTO_INCREMENT untuk tabel `ships`
--
ALTER TABLE `ships`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

--
-- AUTO_INCREMENT untuk tabel `ship_schedules`
--
ALTER TABLE `ship_schedules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Ketidakleluasaan untuk tabel pelimpahan (Dumped Tables)
--

--
-- Ketidakleluasaan untuk tabel `passengers`
--
ALTER TABLE `passengers`
  ADD CONSTRAINT `passengers_ibfk_1` FOREIGN KEY (`reservation_id`) REFERENCES `reservations` (`id`);

--
-- Ketidakleluasaan untuk tabel `reservations`
--
ALTER TABLE `reservations`
  ADD CONSTRAINT `fk_schedule` FOREIGN KEY (`schedule_id`) REFERENCES `ship_schedules` (`id`),
  ADD CONSTRAINT `reservations_ibfk_1` FOREIGN KEY (`origin_id`) REFERENCES `locations` (`id`),
  ADD CONSTRAINT `reservations_ibfk_2` FOREIGN KEY (`destination_id`) REFERENCES `locations` (`id`),
  ADD CONSTRAINT `reservations_ibfk_3` FOREIGN KEY (`ship_id`) REFERENCES `ships` (`id`);

--
-- Ketidakleluasaan untuk tabel `routes`
--
ALTER TABLE `routes`
  ADD CONSTRAINT `routes_ibfk_1` FOREIGN KEY (`origin_id`) REFERENCES `locations` (`id`),
  ADD CONSTRAINT `routes_ibfk_2` FOREIGN KEY (`destination_id`) REFERENCES `locations` (`id`);

--
-- Ketidakleluasaan untuk tabel `ship_schedules`
--
ALTER TABLE `ship_schedules`
  ADD CONSTRAINT `ship_schedules_ibfk_1` FOREIGN KEY (`ship_id`) REFERENCES `ships` (`id`),
  ADD CONSTRAINT `ship_schedules_ibfk_2` FOREIGN KEY (`origin_id`) REFERENCES `locations` (`id`),
  ADD CONSTRAINT `ship_schedules_ibfk_3` FOREIGN KEY (`destination_id`) REFERENCES `locations` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
